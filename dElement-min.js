/*!
	delement.js ö
	K345 2006-2018
*/
var K345=K345||{};"use strict";if("requireScript" in K345){K345.requireScript("array16","function")}K345.attrNames=K345.attrNames||{acceptcharset:"acceptCharset",accesskey:"accessKey",alink:"aLink",bgcolor:"bgColor",cellindex:"cellIndex",cellpadding:"cellPadding",cellspacing:"cellSpacing",charoff:"chOff","class":"className",codebase:"codeBase",codetype:"codeType",colspan:"colSpan",datetime:"dateTime","for":"htmlFor",frameborder:"frameBorder",framespacing:"frameSpacing",ismap:"isMap",longdesc:"longDesc",marginheight:"marginHeight",marginwidth:"marginWidth",maxlength:"maxLength",nohref:"noHref",noresize:"noResize",nowrap:"noWrap",readonly:"readOnly",rowindex:"rowIndex",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap",valign:"vAlign",vlink:"vLink"};K345.voidElements=K345.voidElements||["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"];(function(){var t,w,Q,C,D,r,R,G,k,N,i,d,v,q,E,s,y,j;if(!A(Array,"isArray")||!A(Function.prototype,"bind")||!A(Array.prototype,"indexOf")||!A(Array.prototype,"filter")||!A(Array.prototype,"forEach")||!A(document,"createDocumentFragment")||!l(K345.attrNames)||!Array.isArray(K345.voidElements)){N("A required methods/property is missing or an external value is of wrong type.")}s=(function(){var V=Object.prototype.hasOwnProperty;return function(X,W){return V.call(X,W)}})();function L(V){return l(V)&&"nodeType" in V&&this.indexOf(V.nodeType)>-1}d=L.bind([1]);i=L.bind([1,11]);v=L.bind([1,3,8,11]);q=L.bind([3]);function o(V){return V.replace(/\-./g,function(W){return W.substr(1).toUpperCase()})}function I(V){return typeof V==="string"}function l(V){return V!==null&&typeof V==="object"&&!Array.isArray(V)}function A(X,V){var W=typeof X[V];return("function|unknown".indexOf(W)>-1)||(W==="object"&&!!X[V])}E=(A(Object,"create")&&(Object.create({a:3})).a===3)?function(V){return Object.create(V)}:function(W){function V(){}V.prototype=W;return new V()};N=(function(){var V=A(console,"error");return function(W){W="dElement Error:\n"+W+"\n";if(V){console.error(W)}throw new Error(W)}})();function n(W,V){var X;for(X in V){if(s(W,X)){W[V[X]]=W[X];delete W[X]}}return W}R=["type","name","value","checked","selected"];D=["element","elrefs","clone","clonetop"];C=["text","event","attribute","setif","html","child","comment","collect"];r=["id","name"];t=null;Q=0;G=["checked","compact","declare","defer","disabled","ismap","multiple","nohref","noresize","noshade","nowrap","readonly","selected"];function K(W){var V,Y,Z=W.val,X=W.el;Z=n(Z,{"function":"func","arguments":"args"});if(!l(Z)||!s(Z,"args")){N("Not a valid event declaration")}if(Array.isArray(Z.args)){if(typeof Z.func==="function"){V=Z.args.indexOf("#el#");if(V<0){V=Z.args.indexOf("#elp#");if(V>=0){if(!X.parentNode){return}X=X.parentNode}else{V=Z.args.indexOf("#elpp#");if(V>=0){if(!X.parentNode||!X.parentNode.parentNode){return}X=X.parentNode.parentNode}}}if(V<0){Z.args.unshift(X)}else{Z.args.splice(V,1,X)}Z.func.apply(X,Z.args)}else{Z.func=Z.func||"addEventListener";Y=X[String(Z.func)];if(typeof Y==="function"){Y.apply(X,Z.args)}}}}function g(W,V){if(!Array.isArray(V)){V=[V]}V.forEach(function(X){t.push({el:W,val:X})})}function M(X,aa,Z){var V=aa.toLowerCase(),Y;if(V.indexOf("data-")===0){if(V!==aa||V.indexOf("data-xml")>-1||V.indexOf(";")>-1){N('data-* property/attribute name may not start with "xml" or contain any semicolon or uppercase chars')}Z=String(Z);if("dataset" in X&&l(X.dataset)){X.dataset[o(V.substring(5))]=Z;return X}Y=V}else{if(G.indexOf(V)>-1){if(Z===true||(I(Z)&&Z.toLowerCase()===V)){Z=true}else{if(Z===false||Z===""){return X}else{N('switch attribute "'+aa+'" has an invalid value of "'+Z+"\".\nValue may be the attribute's name or boolean true only.")}}Y=V}else{Y=m(aa);if((Y==="className"&&Z==="")||(typeof Z==="boolean"&&!Z)){return X}}}try{X[Y]=Z;if(X[Y]!==Z&&V!=="href"){throw new Error("value type mismatch in property "+aa)}}catch(W){X.setAttribute(Y,Z)}return X}function U(W,V){if(l(V)&&s(V,"name")&&s(V,"value")){if(s(V,"condition")&&!!V.condition){if(V.name!=="child"){M(W,V.name,V.value)}else{if(l(V.value)){u.call(W,V.value)}}}}}function x(X){var V=X.indexOf("_"),W;if(V>0){W=X.substring(0,V);if(C.indexOf(W)>-1){X=W}}return X}function p(W,V){if(Array.isArray(V)){V=V.join(";")}if(W.style.cssText!==undefined){W.style.cssText=V}else{W.setAttribute("style",V)}return W}function e(V){if(Array.isArray(V)){V.forEach(e,this)}else{V=" "+V+" ";if(A(document,"createComment")){this.appendChild(document.createComment(V))}else{if(A(this,"insertAdjacentHTML")){this.insertAdjacentHTML("beforeEnd","<!--"+V+"-->")}}}}function f(ag){var aa=1,Y=0,ab=1,ac=["chk","sel"],X=s(ag,"loopdeep"),W,ae,Z,af,ad,V;if(s(ag,"loop")&&X){N('You may use only one of "loop" OR "loopdeep", not both.');return null}af=(X)?"loopdeep":"loop";ad=ag[af];delete ag[af];if(l(ad)&&s(ad,"count")&&!isNaN(ad.count)){ab=Number(ad.count);if(s(ad,"step")&&!isNaN(ad.step)){aa=Number(ad.step);if(aa===0){aa=1}}if(s(ad,"start")&&!isNaN(ad.start)){Y=Number(ad.start)}if(s(ad,"values")){if(!Array.isArray(ad.values)){N('loop property "values" has to be an array')}if(!s(ad,"valuesrepeat")&&ad.values.length<ad.count){N('"values" array has less elements ('+ad.values.length+") than loop count ("+ad.count+")")}}ac.forEach(function(ah){if(s(ad,ah)){if(!Array.isArray(ad[ah])&&isNaN(ad[ah])){N('type of loop property "'+ah+'" must be array or number')}}})}else{if(!isNaN(ad)){ab=Number(ad)}}ab=Math.abs(Math.round(ab));W=document.createDocumentFragment();V=0;for(ae=Y;ae<(Y+(aa*ab));ae+=aa){if(Math.floor(ae)!==ae){ae=parseFloat(ae.toFixed(8),10)}Z=z(ag,ae,V,X,ad);if(ac.some(s.bind(null,ad))){Z=c(Z,ad,V,ac)}u.call(W,Z);V++}ag[af]=ad;return W}function c(ab,X,Z,V){var W=V.length,ac=Z+1,Y,aa;while(W--){Y=V[W];if(s(X,Y)&&(ac===X[Y]||(Array.isArray(X[Y])&&X[Y].indexOf(ac)>-1))){aa=(Y==="chk")?"checked":"selected";ab[aa]=true}}return ab}function z(ah,ac,af,V,Z){var X,aa,ab,W,ag,ae,ad,Y,ai;X=E(ah);aa=/\!\![^v!\s]+\!\!/gi;ab=/\!\!(?:(\-?\d+(?:\.\d+)?)[•\*]?)?(n|c)([+-]\d+(?:\.\d+)?)?\!\!/i;if(s(Z,"values")){ai=Z.values;Y=(s(Z,"valuesrepeat"))?af%ai.length:af}for(W in X){if(I(X[W])){ad=X[W];if(Array.isArray(ai)&&ad.indexOf("!!v!!")>-1){ad=ad.replace(/\!\!v\!\!/gi,ai[Y])}while((ae=aa.exec(X[W]))!==null){ag=ae[0].match(ab);if(Array.isArray(ag)&&ag.length>3){ad=B(ad,(ag[2]==="c"?af:ac),ag)}}X[W]=ad}else{if(W==="child"&&l(X.child)&&!s(X.child,"loop")&&!s(X.child,"loopdeep")&&!s(X.child,"loopstop")&&(V||Q<1)){Q++;X.child=z(X.child,ac,af,V,Z);Q--}}}return X}function B(W,V,Z){var Y=Number(Z[1]),X=Number(Z[3]);if(!isNaN(Y)&&Y!==0){V*=Y}if(!isNaN(X)){V+=X}return W.replace(Z[0],V)}function h(W,V){if(Array.isArray(W)){W.push(V)}else{if(l(W)&&s(W,"obj")&&s(W,"name")&&l(W.obj)){if(W.obj[W.name]===undefined){W.obj[W.name]=V}else{N("duplicate declaration of "+W.name+' in property "collect"')}}else{N('Value of property "collect" must be an array or an object containing the properties "obj" and "name".')}}}function T(V){var W=V.s[V.p];if(V.lp==="id"){this.i[W]=V.el}else{if(V.lp==="name"){if(Array.isArray(this.n[W])){this.n[W].push(V.el)}else{this.n[W]=[V.el]}}}}function m(W){var V=W.toLowerCase();return(V in K345.attrNames)?K345.attrNames[V]:o(W)}function F(V){var W=this;if(Array.isArray(V)){V.forEach(F,W)}else{if(i(W)&&l(V)&&s(V,"name")&&s(V,"value")&&I(V.name)){if(V.name.toLowerCase()==="style"){p(W,V.value)}else{W.setAttribute(V.name,V.value)}}}return W}y=(function(){var ak="\x03",W="\x1F",af=" \t\r\n\f\x0B\xA0",ac=ak,Z="$",aa="#",X=".",ai="~",am="@",ab="=",ad={},al="",ae,ag;ad[Z]={};ad[ac]={};ad[X]={attrName:"class",unique:false};ad[aa]={attrName:"id"};ad[ai]={attrName:"name"};ad[am]={attrName:"type"};ad[ab]={attrName:"value",stop:false};for(ag in ad){if(s(ad,ag)){al+=ag}}ae=al+W+af+"%<>*'\"/|\\?^!§&()[]{}+:,;";function ah(an){N("parser: "+an)}function V(ap,ao,an){return ao===an.indexOf(ap)}function Y(an){return !an||!s(ad,an)||!s(ad[an],"stop")||ad[an].stop!==false}function aj(ao,an){if(s(ao,"className")){an=an.concat(ao.className.split(/\s+/))}return(an.length>1)?an.filter(V).join(" "):an[0]}return function(av){var at=Z,aw=av.element,ao="",aq=[],ar=0,ap={},ax=true,an,ay,au;for(ay in ad){if(s(ad,ay)){ap[ay]=0}}aw=aw.replace(/^\s*(.*)\s*$/g,"$1").replace(ak,"")+ak;au=aw.length;an=aw.charAt(0);if(s(ad,an)){at=an;ar++;if(!(/\$[a-z][a-z1-6]?/i.test(aw))){ah('extended syntax without element node name definition\n"'+aw+'"')}}while(at!==ac){an=aw.charAt(ar);ar++;if(af.indexOf(an)>=0&&Y(at)){continue}if(ax===false&&(an===W||an===ak||ar>=au)){ax=true;while(ar<au&&!(an in ad)){an=aw.charAt(ar);ar++}}if(ae.indexOf(an)<0||ax===false){ao+=an;continue}if(ao.length===0){ah('empty value in mode "'+at+'" "'+aw.slice(0,-1)+'"')}switch(at){case Z:av.element=ao;ap[Z]++;break;case X:aq.push(ao);break;default:if(s(ad,at)&&s(ad[at],"attrName")){av[ad[at].attrName]=ao}else{ah('mode not supported: "'+at+'"')}break}ao="";if(s(ad,an)){ay=ad[an];ap[an]++;if(ap[an]>1&&(!s(ay,"unique")||ay.unique!==false)){if(an===Z){ag=" tag name"}else{if(s(ay,"attrName")){ag=ay.attrName}else{ag=" (unknown property)"}}ah("element may not have more than one "+an+ag+'.\n\t"'+aw+'"')}at=an;ax=!s(ay,"stop")||!!ay.stop}else{ah('Illegal char: "'+an+'" ('+an.charCodeAt(0)+') in "'+aw.slice(0,-1)+'" at position '+ar)}}if(aq.length>0){av.className=aj(av,aq)}return av}})();function S(V){if(Array.isArray(V)){return document.createTextNode(V.join(""))}return q(V)?V:document.createTextNode(V)}j=(function(){var X=document.createElement("template"),W="content" in X,V;if(W){V=function(){return document.createElement("template")}}else{V=(function(aa){var Z="div",Y;Y=aa.match(/\<\s*([a-z][a-z1-6]*)/i);if(Y&&Y.length>1&&s(this,Y[1])){Z=this[Y[1]]}return document.createElement(Z)}).bind({tr:"tbody",tbody:"table",thead:"table",th:"tr",td:"tr",tfoot:"table",caption:"table",option:"select",li:"ul",dd:"dl",dt:"dl",optgroup:"select",figcaption:"figure",menuitem:"menu",legend:"fieldset",summary:"details"})}return function(ac){var ad=V(ac),Y="",Z,ab;try{ad.innerHTML=ac;if(W){Z=ad.content}else{Z=document.createDocumentFragment();while((ab=ad.firstChild)){Z.appendChild(ab)}}}catch(aa){if(aa.code===12){Y="ERROR.\nHTML string most likely contains illegal HTML or uses named entities (restricted when using content-type application/xhtml+xml.\nuse numeric entities instead)\n\n"}N(Y+"Error code: "+aa.code+"\nError message: "+aa.message+'\nContent (leading 200 chars):\n"'+ac.substring(0,200)+'…"')}return Z}})();function P(V,W){if(v(W)){V.appendChild(W)}else{if(I(W)){if(W===""){return V}if(d(V)){V.insertAdjacentHTML("beforeend",W)}else{if(A(V,"appendChild")){V.appendChild(j(W))}}}else{if(Array.isArray(W)){W.forEach(P.bind(null,V))}else{N("illegal type of property ("+W+")")}}}return V}function u(W){var V=H(W);if(V){this.appendChild(V)}return V}function O(V){if(Array.isArray(V)){V.forEach(u,this)}else{if(v(V)){this.appendChild(V)}else{if(l(V)){u.call(this,V)}else{this.appendChild(S(V))}}}}function a(X){var V,Y,W=s(X,"clone");if(W&&s(X,"clonetop")){N('only one of "clone" or "clonetop" may be used.')}V=X.clone||X.clonetop;if(v(V)&&A(V,"cloneNode")){Y=V.cloneNode(W)}else{if(l(V)){Y=H(V)}}if(!v(Y)){N("this object can't be cloned: "+V)}return Y}function J(X){var W=["text","html","child"],Y,V;for(Y in X){V=x(Y.toLowerCase());if(W.indexOf(V)>-1){N('content model of element "'+X.element.toUpperCase()+'" is "empty". This element may not contain any child nodes')}}}k=(function(){function V(W){if(s(this.decl,W)){M(this.el,W,this.decl[W])}}return function(X){var W=document.createElement(X.element);R.forEach(V,{el:W,decl:X});return W}})();function b(X){var W=document.createDocumentFragment(),Z=0,Y,V;for(Y in X){V=x(Y.toLowerCase());switch(V){case"text":W.appendChild(S(X[Y]));break;case"html":P(W,X[Y]);Z++;break;case"comment":e.call(W,X[Y]);Z++;break}}if(!W.hasChildNodes()&&Z!==1){N('Every (sub)declaration object requires at least one of the following properties: "element", "text", "clone", "clonetop", "comment" or "html".')}return W}function H(X){var W,V,Z,aa,Y;if(Array.isArray(X)){W=document.createDocumentFragment();X.forEach(u,W);return W}if(v(X)){return X}if(I(X)){return S(X)}if(s(X,"clone")||s(X,"clonetop")){return a(X)}if(s(X,"loop")||s(X,"loopdeep")){return f(X)}X=n(X,{cond:"condition",comm:"comment",attrib:"attribute",attr:"attribute"});if(s(X,"condition")&&!X.condition){return null}if(X.elrefs===null){w=null}else{if(l(X.elrefs)){w=X.elrefs;w.i=w.i||{};w.n=w.n||{}}}delete X.elrefs;if(!s(X,"element")){return b(X)}if(!I(X.element)){N('type of property "element" must be string')}if((/[^a-z1-6]/i).test(X.element)){X=y(X)}if(K345.voidElements.indexOf(X.element)>-1){J(X)}Z=k(X);if(!Z){N("can't create element \""+X.element+'".')}for(aa in X){V=aa.toLowerCase();if(l(w)&&r.indexOf(V)>-1){T.call(w,{s:X,el:Z,p:aa,lp:V})}if(D.indexOf(V)>-1||R.indexOf(V)>-1){continue}V=x(V);Y=X[aa];switch(V){case"collect":h(Y,Z);break;case"text":Z.appendChild(S(Y));break;case"comment":e.call(Z,Y);break;case"child":O.call(Z,Y);break;case"event":g(Z,Y);break;case"html":P(Z,Y);break;case"attribute":F.call(Z,Y);break;case"style":p(Z,Y);break;case"setif":U(Z,Y);break;default:M(Z,aa,Y);break}}return Z}K345.dElement=function(V){var W;if(!Array.isArray(V)&&!l(V)){N("Parameter has been omitted or is not an object/array")}t=[];w=null;W=H(V);if(W){t.forEach(K)}return W||null};K345.dAppend=function(W,X,Z){var V=null,Y;if(I(W)){W=document.getElementById(W)}if(i(W)){V=K345.dElement(X);if(!V){return null}switch(Z){case"beforeBegin":case K345.DAPPEND_BEFORE:W.parentNode.insertBefore(V,W);break;case"afterEnd":case K345.DAPPEND_AFTER:W.parentNode.insertBefore(V,W.nextSibling);break;case"replaceElement":case K345.DAPPEND_REPLACE:W.parentNode.replaceChild(V,W);break;case"afterBegin":case K345.DAPPEND_FIRST:W.insertBefore(V,W.firstChild);break;case"wipeContent":case K345.DAPPEND_WIPE:while((Y=W.lastChild)){W.removeChild(Y)}case"beforeEnd":case K345.DAPPEND_APPEND:case K345.DAPPEND_LAST:default:W.appendChild(V);break}}return V};K345.DAPPEND_APPEND=0;K345.DAPPEND_LAST=0;K345.DAPPEND_BEFORE=1;K345.DAPPEND_AFTER=2;K345.DAPPEND_REPLACE=3;K345.DAPPEND_FIRST=4;K345.DAPPEND_WIPE=5})();if("registerScript" in K345){K345.registerScript("delement")};